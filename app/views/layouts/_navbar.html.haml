-# contains the navbar for normal users
-# the link-buttons (help, about etc) looks active (pressed) or not based on the page the user currently sees
.navbar.navbar-inverse.navbar-static-top
  .container
    .navbar-header
      %button.navbar-toggle(type="button" data-toggle="collapse" data-target=".navbar-responsive-collapse")
        %span.icon-bar
        %span.icon-bar
        %span.icon-bar
      %a.navbar-brand{is_comparison_selection_page? ? {} : {"data-placement" => "bottom", "data-toggle" => "tooltip", :title => t('topics-info')}, :href => home_url}
        = t('app-title')
    .navbar-collapse.collapse.navbar-responsive-collapse
      %ul.nav.navbar-nav
        %li{ :class => ("active" if current_page?(comparison_path(Comparison.where(:is_draft.ne => true).order_by(:rank => 'asc').first))) }
          -# add the tooltip only if we aren't a the home_url yet
          %a{ :href => comparison_path(Comparison.where(:is_draft.ne => true).order_by(:rank => 'asc').first) }
            %i.fa.fa-home
            =t('navbar-topics')
        %li{ :class => ("active" if current_page?(about_url)) }
          = link_to fa_icon('exclamation-circle', t('navbar-about')), about_url
      %ul.nav.navbar-nav.navbar-right
        - if user_signed_in?
          %li= link_to fa_icon('sign-out', t('logout')), destroy_user_session_path, :method => :delete
        %li{ :class => ("active" if current_page?(help_url)) }
          %a{:href => help_url}
            %i.fa.fa-question-circle
            = t('navbar-help')
        %li.dropdown
          %a.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "dropdown", :href => "#", :role => "button"}
            = fa_icon('flag', current_language)
            %span.caret
          %ul.dropdown-menu{:role => "menu"}
            %li= link_to 'Deutsch', params.merge({ locale: :de })
            %li= link_to 'Fran√ßais', params.merge({ locale: :fr })
            -#English option can be added without any errors
